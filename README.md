# Spark-Streaming-Project
Spark processing of streaming data using count-min sketches

## Stream Generator
The stream enerator continuously generates a stream S of the following format: <sid, ip>. Each entry of this stream represents a single request of a client with IP address ip, to a server with ID sid. The order of the entries in the stream corresponds to the arriving order of the requests. The total number of servers is 100 (sid is between 0 and 99, inclusive). The number of distinct IP addresses is not known, and varies throughout the stream. A possible excerpt from the stream is seen below
…
4, 198.3.5.1
6, 139.3.7.15
5, 221.6.27.251
6, 139.3.7.15
5, 198.3.5.1
…

The stream is generated by a JAR file called “stream.jar” and can be ran by using “java -jar stream.jar 1200 2000 26” from the directory in which the JAR is located. Doing so will make a stream available at hostname “localhost” and port 9000. The values 1200, 2000 and 26 are defining the time in seconds after which the stream will time-out, the rate at which the stream provides output in number of rows per second and a number influencing some characteristics of the stream.

## Problem
Given τ=3000 (representing a threshold), w=60 (representing the duration in seconds of a sliding window), 𝜖=0.001 (acceptable error on the similarity function) and 𝛿=0.01 (the acceptable probability that the error exceeds 𝜖).

Let S denote the stream, and A = {A^0, A^1, . . . A^{99}} the vectors of the 100 servers that correspond to the number of requests received by each server in the last 𝑤 seconds of S. Given two vectors X, Y from A, with X_i, Y_i denoting the value of the i'th component of vector X (resp. Y), then sim(X, Y) = $\sum_i{X_i * Y_i}$ with i = [0, . . ., 232 − 1].
